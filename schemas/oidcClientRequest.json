{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "OidcClientRequest",
  "required": [
    "client_name",
    "description",
    "grant_types"
  ],
  "type": "object",
  "properties": {
    "client_name": {
      "maxLength": 255,
      "minLength": 0,
      "type": "string",
      "description": "Navn på klient, blir vist ved innlogging",
      "example": "Min eksempelklient"
    },
    "client_uri": {
      "maxLength": 255,
      "minLength": 0,
      "type": "string",
      "description": "URL til klient (blir brukt på tilbake-knapp og ved feil)"
    },
    "logo_uri": {
      "type": "string",
      "readOnly": true
    },
    "description": {
      "maxLength": 255,
      "minLength": 0,
      "type": "string",
      "description": "Beskrivelse av klienten, ikke synlig for innbyggere, men blir lagret i Difis støttesystemer",
      "example": "Viser noen eksempelverdier"
    },
    "scopes": {
      "type": "array",
      "description": "Liste over scopes som klienten kan forespørre. For OpenID Connect er aktuelle scopes openid og profile. For API-sikring, ta kontakt med oss",
      "example": "\"openid\", \"profile\" \"idporten:dcr.read\"",
      "items": {
        "type": "string",
        "description": "Liste over scopes som klienten kan forespørre. For OpenID Connect er aktuelle scopes openid og profile. For API-sikring, ta kontakt med oss",
        "example": "\"openid\", \"profile\" \"idporten:dcr.read\""
      }
    },
    "redirect_uris": {
      "type": "array",
      "description": "Liste over gyldige url’er som provideren kan redirecte tilbake til etter vellykket autorisasjonsforespørsel",
      "example": "http://localhost/myService",
      "items": {
        "type": "string",
        "description": "Liste over gyldige url’er som provideren kan redirecte tilbake til etter vellykket autorisasjonsforespørsel",
        "example": "http://localhost/myService"
      }
    },
    "post_logout_redirect_uris": {
      "type": "array",
      "description": "Liste over url’er som provideren redirecter til etter fullført utlogging",
      "example": "http://localhost/myService/loggedout",
      "items": {
        "type": "string",
        "description": "Liste over url’er som provideren redirecter til etter fullført utlogging",
        "example": "http://localhost/myService/loggedout"
      }
    },
    "authorization_lifetime": {
      "minimum": 0,
      "type": "integer",
      "description": "Levetid for registrert autorisasjon i sekunder. I en OpenID Connect sammenheng vil dette være tilgangen til userinfo-endepunktet.",
      "format": "int32"
    },
    "access_token_lifetime": {
      "minimum": 0,
      "type": "integer",
      "description": "Levetid i sekunder for utstedt access_token",
      "format": "int32"
    },
    "refresh_token_lifetime": {
      "minimum": 0,
      "type": "integer",
      "description": "Levetid i sekunder for utstedt refresh_token",
      "format": "int32"
    },
    "refresh_token_usage": {
      "type": "string",
      "description": "Ved REUSE kan refresh_token benyttes flere ganger.  Ved ONETIME kan refresh_token kun benyttes en gang.",
      "enum": [
        "ONETIME",
        "REUSE"
      ]
    },
    "frontchannel_logout_uri": {
      "maxLength": 255,
      "minLength": 0,
      "type": "string",
      "description": "URL som provideren sender request til ved utlogging trigget av annen klient i samme sesjon"
    },
    "frontchannel_logout_session_required": {
      "type": "boolean",
      "description": "Flagg som bestemmer om parameterne for issuer og sesjons-id skal sendes med frontchannel_logout_uri"
    },
    "token_endpoint_auth_method": {
      "type": "string",
      "description": "Autentiseringsmetode for klient. None anbefales for klienter som kjører i nettleser eller på mobil",
      "example": "client_secret_basic",
      "enum": [
        "client_secret_post",
        "client_secret_basic",
        "private_key_jwt",
        "none"
      ]
    },
    "grant_types": {
      "maxItems": 4,
      "minItems": 1,
      "uniqueItems": true,
      "type": "array",
      "description": "Tillatte Grant Types for klient. Implicit skal ikke tas i bruk av nye klienter(deprecated).",
      "example": "authorization_code, refresh_token",
      "items": {
        "type": "string",
        "description": "Tillatte Grant Types for klient. Implicit skal ikke tas i bruk av nye klienter(deprecated).",
        "example": "authorization_code, refresh_token",
        "enum": [
          "authorization_code",
          "implicit",
          "refresh_token",
          "urn:ietf:params:oauth:grant-type:jwt-bearer"
        ]
      }
    },
    "integration_type": {
      "type": "string",
      "description": "Integrasjonstype",
      "example": "api_klient, idporten, idporten_saml2, krr, maskinporten",
      "enum": [
        "idporten",
        "api_klient",
        "krr",
        "maskinporten",
        "eformidling",
        "ansattporten",
        "connect2norway",
        "idporten_saml2"
      ]
    },
    "application_type": {
      "type": "string",
      "description": "Applikasjonstype",
      "example": "native, web, browser",
      "enum": [
        "web",
        "browser",
        "native"
      ]
    },
    "sso_disabled": {
      "type": "boolean",
      "description": "Flagg for å disable sso. Dette vil gjøre at brukeren må logge inn på nytt for din klient. Dette er kun relevant for OpenID Connect. Om ikke satt, vil default være false for ID-porten og true for Ansattporten"
    },
    "code_challenge_method": {
      "type": "string",
      "description": "Code challenge method for PKCE. Gyldige verdier er none eller s256. Dette er kun relevant for OpenID Connect. Om ikke satt, vil default bli S256. ",
      "enum": [
        "none",
        "S256"
      ]
    },
    "client_org_name": {
      "type": "string",
      "description": "For interne skyapplikasjoner. Klienten sitt organisasjonsnnavn",
      "readOnly": true
    },
    "client_org_description": {
      "type": "string",
      "description": "For interne skyapplikasjoner. Klienten sin org beskrivelse",
      "readOnly": true
    },
    "client_logo_uri": {
      "type": "string",
      "description": "For interne skyapplikasjoner. Klientens logouri",
      "readOnly": true
    },
    "client_orgno": {
      "type": "string",
      "description": "Klienten sitt organisasjonsnummer. Kan kun sendast dersom avsendar har idporten:dcr.supplier scopet."
    }
  }
}
